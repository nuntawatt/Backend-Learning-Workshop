<script lang="ts">
  let time = $state(0)
	let milliseconds = $state(1000)

	$effect(() => {
    console.log('Timer effect running with milliseconds:', milliseconds)
		const interval = setInterval(() => {
			time += 1 // à¸ªà¹ˆà¸§à¸™à¸™à¸µà¹‰ time à¸ˆà¸° untrack() à¹€à¸à¸£à¸²à¸°à¹€à¸›à¹‡à¸™ Sub function à¸ à¸²à¸¢à¹ƒà¸™à¸­à¸µà¸à¸—à¸µ
      // à¸–à¹‰à¸²à¹ƒà¸„à¸£à¹ƒà¸Šà¹‰ React à¸ˆà¸°à¹€à¸‚à¹‰à¸²à¹ƒà¸ˆà¸”à¸µ à¸§à¹ˆà¸²à¸«à¸²à¸à¸•à¸´à¸”à¸•à¸²à¸¡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥ deps à¸‚à¸­à¸‡ time à¸”à¹‰à¸§à¸¢ à¸ˆà¸°à¹€à¸à¸´à¸”à¸à¸²à¸£à¸£à¸±à¸™à¹€à¸šà¸´à¹‰à¸¥à¸‹à¹‰à¸³à¹†
		}, milliseconds)

    // à¸–à¹‰à¸²à¹„à¸¡à¹ˆà¹„à¸”à¹‰ Cleanup à¹€à¸¡à¸·à¹ˆà¸­ milliseconds à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¹à¸›à¸¥à¸‡ à¸ˆà¸°à¸—à¸³à¹ƒà¸«à¹‰à¹€à¸à¸´à¸”à¸à¸²à¸£à¹€à¸£à¸µà¸¢à¸ setInterval à¸‹à¹‰à¸³à¹†
		return () => {
			clearInterval(interval)
		}
	})
</script>

<h2 class="text-xl font-bold mb-2">Timer</h2>

<div class="mb-3">
  <p>Time: {time}</p>
  <p>Speed: {1000 / milliseconds}x</p>
</div>

<button class="btn" onclick={() => (milliseconds *= 2)}>Slower ğŸš¶â€â™‚ï¸ğŸŒ</button>
<button class="btn" onclick={() => (milliseconds /= 2)}>Faster ğŸƒâ€â™‚ï¸ğŸ’¨</button>
